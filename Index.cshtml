@{
    ViewData["Title"] = "User Form";
}

<h1>User Form</h1>

<form id="userForm" asp-action="Index" method="post">


    <div class="form-group">
        <label for="name">Cardholder's Name:</label>
        <input type="text" class="form-control" id="cardholderName" name="cardholderName" required>

    </div>



    <div class="form-group">
        <label for="name">Card Number:</label>
        <input type="text" class="form-control" id="cardNumber" name="cardNumber" required>
        
    </div>

    <div class="form-group">
        <label for="name">Expiration Date:</label>
        <input type="text" class="form-control" id="expiry" name="expirationDate" required>
    </div>

    <div class="form-group">
        <label for="name">CVV/CVC:</label>
        <input type="text" class="form-control" id="cvv" name="cvv" required>
    </div>

    <div class="form-group">
        <label for="name">Billing Address:</label>
        <input type="text" class="form-control" id="billingAddress" name="billingAddress" required>
    </div>

    <div class="form-group">
        <label for="cardType" class="control-label">Card Type</label>
        <select id="cardType" name="cardType" class="form-control" required>
            <option value="Visa">Visa</option>
            <option value="MasterCard">MasterCard</option>
            <!-- Add more card types as needed -->
        </select>
    </div>

    <div class="form-group">
        <label for="amount" class="control-label">Amount</label>
        <input type="text" id="amount" name="amount" class="form-control" required />

    </div>
    <button type="button" id="submitBtn" class="btn btn-primary">Submit</button>
</form>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script>
        var
            name = document.getElementById("name"),
            cardNumber = document.getElementById("cardNumber"),
            expiry = document.getElementById("expiry"),
            cvv = document.getElementById("cvv"),
            billingAddress = document.getElementById("billingAddress"),
            cardType = document.getElementById("cardType"),
            amount = document.getElementById("amount"),
            submitBtn = document.getElementById("submitBtn");


        submitBtn.onclick = () => {
            const paymentData = {
                Name: cardholderName.value,
                CardNumber: cardNumber.value,
                ExpirationDate: expiry.value,
                CVV: cvv.value,
                BillingAddress: billingAddress.value,
                CardType: cardType.value,
                Amount: amount.value

            };

            $.ajax({
                url: "/Payment/",
                type: "POST",
                contentType: "application/json",
                data: JSON.stringify(paymentData), // Serialize the object to JSON
                success: function (response) {
                    console.log(response);
                }
            });
        };

    </script>

